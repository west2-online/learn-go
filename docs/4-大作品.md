# Golang 第四轮考核

在这轮考核中，你拥有以下三个选择：
1. 参加字节跳动青训营
2. 完成MIT 6.824 分布式系统 (2023 Spring)的lab1
3. 完成以下内容

## 目的

- 掌握HTTP协议和Web工作原理
- 掌握使用**关系型数据库**，如：MySQL
- 了解使用**非关系型数据库**，如：Redis
- 了解使用**消息队列**，如：RabbitMQ
- 学习**RESTful API**接口规范
- 学习编写文档
- Docker的使用
- 实现基础项目的数据库设计

## 背景

金三银四来了！FanOne 正在准备面试，由于过于卷，于是想放松一下看一下番剧，可惜她又没有`大会员`，FanOne现在很苦恼

## 任务

> 请你写一个**弹幕视频网站**（写 API 文档接口即可），让LWGG能在没有大会员的条件下开心的追番吧！

这个视频网站至少需要以下模块，请结合新的学习内容进行实现，同时你需要完成下面这几个要点

- 为你的项目提供一份**接口文档**与**项目结构图（目录树）**
- 完成**Docker部署**（编写Dockerfile并且利用这个文件成功部署你的项目）

### 用户模块

1. 用户的登录注册（需要你返回token）
2. 用户头像功能（上传头像、修改头像）

### 视频模块

1. 上传视频
2. 评论视频 （请注意，评论是可以有回复的）
3. 点击量排行榜（Redis）

### 聊天模块

1. 单聊（使用消息队列来实现)
2. 查找一定时间内的聊天记录

### 搜索模块

- 搜索视频，用户（搜索条件包括但不限于：年份，类别，发布时间等等）
- 保留所有的历史搜索记录（Redis）
- 多条件筛选视频（点击量和标题等）

### Bonus

1. 搜索条件可以同时支持**大于等于4个**的条件筛选
2. 大文件存储使用OSS（阿里云、腾讯云、七牛云均可,或使用MinIO自己搭建）
3. 对鉴权加入一定的安全特性（例如使用2FA）
4. 上传大视频时的分片处理
5. 添加管理员功能，因为一个视频网站没有叔叔就乱套了
6. 搜索功能使用ElasticSearch实现
7. 获取视频等接口使用Redis缓存数据



## 提示

如果只完成基础的部分，那样太简单了，请斟酌实现一部分Bonus要求

不要过度关注CURD的内容，请将目标放在下面这些

- 项目架构是否合理
- 数据库设计是否合理
- 是否对新技术（如Redis）的使用相对合理
- 每一个接口的逻辑是否正确（例如，在上传视频时是否考虑到了用户是否登录？）
- 你的接口能否支撑住多人访问？
- 当你使用缓存后，是否能避免出现缓存穿透，缓存雪崩等情况？

## 参考

- [MinIo官网](https://min.io/)
- [Redis官网](https://redis.io/)
- [Elasticsearch官网](https://www.elastic.co/cn/)
- [RabbitMQ官网](https://www.rabbitmq.com/)